Como instalar e gerenciar pacotes Flatpak nas distribui√ß√µes LinuxH√° algum tempo atr√°s eu fiz aqui no blog dois posts relacionados ao Snap, um deles mostrando como voc√™ instala o suporte a eles em qualquer distribui√ß√£o e outra ensinando a utilizar a ferramenta. Hoje √© a vez do Flatpak! üòäTecnologias revolucion√°rias como o Flatpak e o Snap s√£o √≥timas, mas elas carecem da mesma coisa, justamente por conta de serem novidades, que √© documenta√ß√£o coloquial. Por mais que existam manuais oficiais, sempre h√° algo que foge √†quele conte√∫do. Hoje eu vou te mostrar como fazer a instala√ß√£o do Flatpak na maior parte das distribui√ß√µes Linux e te dar as diretrizes b√°sicas de como se utilizam estes pacotes.Instalando o Flatpak na sua distribui√ß√£o LinuxBasicamente o pacote √© o mesmo em todas as distros, variando de acordo com o sistema e seu gerenciador de pacote, ent√£o vamos para a pequena lista em ordem alfab√©tica:Alpine LinuxO suporte a Flatpak pode ser instalado desta forma:sudo apk add flatpakArch Linux (Manjaro/Antergos)O suporte a Flatpak est√° dispon√≠vel diretamente dos reposit√≥rios oficiais, e tamb√©m existe a vers√£o do AUR. Voc√™ pode instalar desta forma:sudo pacman -S flatpakNo Arch, para ter as ferramentas de desenvolvimento (Flatpak-Builder) funcionando corretamente √© necess√°rio instalar algumas depend√™ncias extras, mas isso s√≥ serve para voc√™ que for desenvolver os pacotes, usu√°rios comuns poder√£o usar apenas o comando acima.Fedora
Do Fedora 23 em diante voc√™ habilita o suporte ao Flatpak facilmente com o comando:sudo dnf install flatpakGentooAtualmente n√£o existe uma forma oficial de instalar o Flatpak na distribui√ß√£o, entretanto, existe um m√©todo n√£o oficial que pode ser encontrado aqui.MageiaInstalar no Mageia √© simples tamb√©m, inclusive existem duas formas de fazer isso, dependendo do gerenciador de pacotes que voc√™ preferir utilizar. Lembre-se de executar os comandos como root, como no Debian:dnf install flatpakQuase igual do Fedora, n√£o √©? Outra op√ß√£o √© caso voc√™ prefira utilizar o urpmi como gestor, neste caso seria (tamb√©m como root):urpmi flatpakopenSUSENo openSUSE tamb√©m existem duas formas de fazer a instala√ß√£o, dependendo de qual vers√£o do "Rei lagarto" voc√™ use. Se voc√™ usa a vers√£o Leap ou Tumbleweed, em ambos os casos voc√™ pode usar o m√©todo 1-click install atrav√©s do Yast, ou caso use a vers√£o Tumbleweed em espec√≠fico, voc√™ pode instalar via Zypper tamb√©m:sudo zypper install flatpakUbuntu (Linux Mint/elementary OS)No Ubuntu varia de acordo com a vers√£o, caso voc√™ esteja usando a vers√£o 17.10 ou superior, o flatpak j√° est√° no reposit√≥rio e voc√™ pode instalar com um simples "sudo apt install flatpak", no entanto, para quem usa o Ubuntu 16.04 LTS ou 17.04 √© necess√°rio usar o PPA oficial, o mesmo vale para Linux Mint e elementary OS (ambos baseados na LTS) e as outras deriva√ß√µes oficiais do Ubuntu (Kubuntu, Xubuntu, Ubuntu MATE, etc) respeitando o seu versionamento.sudo add-apt-repository ppa:alexlarsson/flatpaksudo apt updatesudo apt install flatpakIsso cobre a maior parte das distribui√ß√µes, agora vamos aprender a utilizar o Flatpak.Como usar os pacotes FlatpakVamos fazer agora do gerenciamento de pacotes Flatpak b√°sico para voc√™ poder atualizar as aplica√ß√µes, instalar e remover e fazer consultas sobre informa√ß√µes.Acho que em primeiro lugar √© bom que voc√™ saiba que pode consultar toda a documenta√ß√£o sobre o Flatpak dispon√≠vel atualmente aqui, no site voc√™ encontra informa√ß√µes sobre a estrutura dos pacotes, como cri√°-los, como criar reposit√≥rios, etc.A grande quest√£o que deixa um pouquinho mais complicado o Flatpak em rela√ß√£o ao Snap atualmente √© que voc√™ precisa adicionar um reposit√≥rio espec√≠fico para cada programa em muitos casos, ent√£o √© importante que o desenvolvedor te informe isso, voc√™ pode ver alguns exemplos nesta p√°ginana aba "Command Line".Os pacotes Flatpak possuem os chamados flatpakref, que como o nome sugere, s√£o pacotes quem cont√©m refer√™ncias para o download das aplica√ß√µes e servem de intermedi√°rio, futuramente esses pacotes ser√£o gerenciados diretamente com as centrais de aplicativos, como o GNOME Software, permitindo que os pacotes sejam instalados com dois cliques como qualquer deb ou rpm (assim como os Snaps), por√©m, atualmente, ao menos eu meus testes este recurso ainda n√£o est√° funcional. Quando a integra√ß√£o estiver perfeita, a necessidade da adi√ß√£o manual dos reposit√≥rios poder√° ser contornada.O conte√∫do de um flatpakref √© basicamente este abaixo (LibreOffice), composto do nome do pacote, informa√ß√µes do reposit√≥rio, como a URL do mesmo, qual √© a vers√£o de lan√ßamento dele, chave GPG e link para o Runtime do Flatpak, etc.Estes s√£o os principais, mas existem outros especialmente voltados para desenvolvedores, vale a pena conferir o link que eu passei anteriormente com a documenta√ß√£o, para quem estiver interessado em desenvolver pacotes Flatpak, o site do projeto explica como voc√™ pode baixar o SDK e come√ßar a fazer seus primeiros pacotes neste novo formato.E claro, outra forma de voc√™ conhecer mais e entender os par√¢metros de manuseio do Flatpak via linha de comando e usar o bom e velho: